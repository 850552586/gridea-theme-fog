<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="<%- post.description %>" />
    <meta name="keywords" content="<%- post.tags.map(tag => tag.name).join(',') %>" />
    <link rel="stylesheet" href="<%= themeConfig.domain %>/media/css/bootstrap.min.css%>">
    <link rel="stylesheet" href="<%= themeConfig.domain %>/styles/main.css">
    <!-- ‰ª£Á†ÅÊ∏≤ÊüìÈ£éÊ†ºcss -->
    <% if(site.customConfig.codetheme == 'default'){ %>
        <link rel="stylesheet" href="<%= themeConfig.domain %>/media/css//default.min.css%>">
        <% }else if(site.customConfig.codetheme == 'vs2015'){ %>
        <link rel="stylesheet" href="<%= themeConfig.domain %>/media/css//vs2015.min.css%>">
        <% }else if(site.customConfig.codetheme == 'rainbow'){ %>
        <link rel="stylesheet" href="<%= themeConfig.domain %>/media/css//rainbow.min.css%>">
        <% }else{ %>
        <link rel="stylesheet" href="<%= themeConfig.domain %>/media/css//dracula.min.css%>">
    <% } %>
    <!-- ‰ª£Á†ÅÈ´ò‰∫ÆÊèí‰ª∂ -->
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.3.1/build/highlight.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/highlightjs-line-numbers.js@2.8.0/dist/highlightjs-line-numbers.min.js"></script>
    <!-- ‰ª£Á†ÅÂ§çÂà∂Êèí‰ª∂ -->
    <script src="https://cdn.jsdelivr.net/gh/850552586/ericamcdn@0.1/js/clipboard.min.js"></script>
    <!-- live2dÊèí‰ª∂ -->
    <link rel="stylesheet" href="<%= themeConfig.domain %>/media/css/live2d.css%>">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>
    <!-- ÊúÄÊñ∞ÁâàÊú¨ÁöÑ Bootstrap Ê†∏ÂøÉ CSS Êñá‰ª∂ -->
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.13.1/css/all.min.css" rel="stylesheet">
    <!-- Êï∞Â≠¶ÂÖ¨Âºè -->
    <% if (site.customConfig.Mathchoice){ %>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css"
        integrity="sha384-9tPv11A+glH/on/wEu99NVwDPwkMQESOocs/ZGXPoIiLE8MU/qkqUcZ3zzL+6DuH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.js"
        integrity="sha384-U8Vrjwb8fuHMt6ewaCy8uqeUXv4oitYACKdB0VziCerzt011iQ/0TqlSlv8MReCm" crossorigin="anonymous">
        </script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/contrib/auto-render.min.js"
        integrity="sha384-aGfk5kvhIq5x1x5YdvCp4upKZYnA8ckafviDpmWEKp4afOZEqOli7gqSnh8I6enH" crossorigin="anonymous">
        </script>
    <script>
        renderMathInElement(document.body, {
            delimiters: [{
                left: "$$",
                right: "$$",
                display: true
            },
            {
                left: "$",
                right: "$",
                display: false
            }
            ]
        });
    </script>
    <% } %>
    <title><%= post.title %></title>

    <!-- Â§ßÁ∫≤Á¥¢ÂºïcssË∞ÉÊï¥ -->
    <% if(site.customConfig.menuposition == 'left'){ %>
    <style>
        .markdownIt-TOC {
            margin-left: 28%;
            padding-left: 2px;
            width: 80%;
        }

        .markdownIt-TOC li {
            padding-left: 8%;
        }
    </style>
    <% }else{ %>
    <style>
        .markdownIt-TOC {
            padding-left: 2px;
            width: 100%;
        }

        .markdownIt-TOC li {
            padding-left: 2%;
        }
    </style>
    <% } %>
</head>

<body>
    <div id="landlord">
        <div class="message" style="opacity:0"></div>
        <canvas id="live2d" width="240" height="250" class="live2d"></canvas>
    </div>
    <div id="domainname" style="display:none"><%= themeConfig.domain %></div>
    <div id="content">
        <div>
            <!----------- ÁßªÂä®Á´ØÂØºËà™Ê†èüëá ----------------->
            <div id="bar">
                <%- include('./includes/bar') %>
            </div>
            <!----------- ÁßªÂä®Á´ØÂØºËà™Ê†èüëÜ ----------------->

            <!--------------- pcÁ´ØËèúÂçïÊ†èüëá ---------------->
            <div class="side"><%- include('./includes/side') %></div>
            <!--------------- pcÁ´ØËèúÂçïÊ†èüëÜ ---------------->

            <!-- ----------------Â∑¶‰æßËèúÂçïÊ†èhtml üëá-------------------------------------->
            <% if(site.customConfig.menuposition == 'left'){ %>
            <div>
                <div id="tab1" class="tab">
                    <div class="bars">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <div class="close"></div>
                </div>
                <div class="col-md-1 col-lg-3"></div>
                <!-- mainÊ†áÁ≠æÔºåpjaxÊ∏≤ÊüìÊó∂Âä†ËΩΩ‰ª•‰∏ãÂÜÖÂÆπüëá -->
                <div id="main" class="col-xs-12 col-sm-12 col-md-12 col-lg-7" style="padding:0;">
                    <div class="readingmode" onclick="readingmode()">ÈòÖ</div>
                    <%- include('./includes/post-detail') %>
                    <div class="toc-container">
                        <%- post.toc %>
                    </div>
                    <div class="tog">
                        <div class="toggleContainer">
                            <div class="toggle">
                                <i class="fas fa-angle-double-up"></i>
                            </div>
                        </div>
                    </div>
                    <!---------------------------- ËØÑËÆ∫Á≥ªÁªüüëá ------------------------->
                    <div id="comment" class="comment">
                        <div class="commentcontainer">
                            <%if(site.customConfig.commentschoice=='valine'){%>
                                <% if (site.customConfig.Leancloud_appId && site.customConfig.Leancloud_key) { %>
                                    <%- include('./includes/valine') %>
                                    <div class="clear"></div>
                                <%}else{%>
                                    <p>ËØ∑Âà∞ÂÆ¢Êà∑Á´Ø‚Äú‰∏ªÈ¢ò--Ëá™ÂÆö‰πâÈÖçÁΩÆ--ÈÖçÁΩÆ‚Äù‰∏≠Â°´ÂÖ•leancloud_appIDÂíåkey</p>
                                <%}%>
                            <%}else if(site.customConfig.commentschoice=='twikoo'){%>
                                <%if(site.customConfig.twikoo_id){%>
                                    <%- include('./includes/twikoo') %>
                                    <div class="clear"></div>
                                <%}else{%>
                                    <p>ËØ∑Âà∞ÂÆ¢Êà∑Á´Ø‚Äú‰∏ªÈ¢ò--Ëá™ÂÆö‰πâÈÖçÁΩÆ--ÈÖçÁΩÆ‚Äù‰∏≠Â°´ÂÖ•cloudbaseÁéØÂ¢Éid</p>
                                <%}%>
                            <%}else if(site.customConfig.commentschoice=='default'){%>
                                <%if ( typeof commentSetting !== 'undefined' && commentSetting.showComment) { %>
                                    <% if (commentSetting.commentPlatform === 'gitalk') { %>
                                        <%- include('./includes/gitalk') %>
                                    <% } %>
                                    <% if (commentSetting.commentPlatform === 'disqus') { %>
                                        <%- include('./includes/disqus') %>
                                    <% } %>
                                <% } %>
                            <%}%>
                        </div>
                    </div>
                    <!---------------------------- ËØÑËÆ∫Á≥ªÁªüüëÜ ------------------------->
                </div>
                <!-- mainÊ†áÁ≠æÔºåpjaxÊ∏≤ÊüìÊó∂Âä†ËΩΩ‰ª•‰∏äÂÜÖÂÆπüëÜ -->
                <div class="col-md-1 col-lg-2"></div>
                <div id="bg">
                </div>
            </div>
            <!-- ----------------Â∑¶‰æßËèúÂçïÊ†èhtml üëÜ-------------------------------------->
            <% }else{ %>
            <!--------------- È°∂ÈÉ®ËèúÂçïÊ†èhtmlüëá--------->
            <div>
                <div class="col-lg-3"></div>
                <!-- mainÊ†áÁ≠æÔºåpjaxÊ∏≤ÊüìÊó∂Âä†ËΩΩ‰ª•‰∏ãÂÜÖÂÆπüëá -->
                <div id="main" class="col-xs-12 col-sm-12 col-md-12  col-lg-6 posttop" style="padding:0;">
                    <div class="readingmode" onclick="readingmode()">ÈòÖ</div>
                    <%- include('./includes/post-detail') %>
                    <div class="toc-container">
                        <%- post.toc %>
                    </div>
                    <div class="tog">
                        <div class="toggleContainer">
                            <div class="toggle">
                                <i class="fas fa-angle-double-up"></i>
                            </div>
                        </div>
                    </div>
                    <!---------------------------- ËØÑËÆ∫Á≥ªÁªüüëá ------------------------->
                    <div id="comment" class="comment">
                        <div class="commentcontainer">
                            <%if(site.customConfig.commentschoice=='valine'){%>
                                <% if (site.customConfig.Leancloud_appId && site.customConfig.Leancloud_key) { %>
                                    <%- include('./includes/valine') %>
                                    <div class="clear"></div>
                                <%}else{%>
                                    <p>ËØ∑Âà∞ÂÆ¢Êà∑Á´Ø‚Äú‰∏ªÈ¢ò--Ëá™ÂÆö‰πâÈÖçÁΩÆ--ÈÖçÁΩÆ‚Äù‰∏≠Â°´ÂÖ•leancloud_appIDÂíåkey</p>
                                <%}%>
                            <%}else if(site.customConfig.commentschoice=='twikoo'){%>
                                <%if(site.customConfig.twikoo_id){%>
                                    <%- include('./includes/twikoo') %>
                                    <div class="clear"></div>
                                <%}else{%>
                                    <p>ËØ∑Âà∞ÂÆ¢Êà∑Á´Ø‚Äú‰∏ªÈ¢ò--Ëá™ÂÆö‰πâÈÖçÁΩÆ--ÈÖçÁΩÆ‚Äù‰∏≠Â°´ÂÖ•cloudbaseÁéØÂ¢Éid</p>
                                <%}%>
                            <%}else if(site.customConfig.commentschoice=='default'){%>
                                <%if ( typeof commentSetting !== 'undefined' && commentSetting.showComment) { %>
                                    <% if (commentSetting.commentPlatform === 'gitalk') { %>
                                        <%- include('./includes/gitalk') %>
                                    <% } %>
                                    <% if (commentSetting.commentPlatform === 'disqus') { %>
                                        <%- include('./includes/disqus') %>
                                    <% } %>
                                <% } %>
                            <%}%>
                        </div>
                    </div>
                    <!---------------------------- ËØÑËÆ∫Á≥ªÁªüüëÜ ------------------------->

                    <!-------------- Â∫ïÈÉ®Ê†è‰ø°ÊÅØüëá -------------------->
                    <div style="margin-top:5vh">
                        <%if(site.customConfig.menuposition=='top'){%>
                        <%- include('./includes/footer') %>
                        <%}%>
                    </div>
                    <!-------------- Â∫ïÈÉ®Ê†è‰ø°ÊÅØüëÜ -------------------->
                </div>
                <!-- mainÊ†áÁ≠æÔºåpjaxÊ∏≤ÊüìÊó∂Âä†ËΩΩ‰ª•‰∏äÂÜÖÂÆπüëÜ -->
                <div class="col-md-2 col-lg-3">
                </div>
                <div id="bg">
                </div>
            </div>
        <!--------------- È°∂ÈÉ®ËèúÂçïÊ†èhtmlüëÜ--------->
        <% } %>
        </div>
        <!-- aplayerÊí≠ÊîæÂô®Âä†ËΩΩüëá -->
            <%if(site.customConfig.aplayerchoice){%>
            <%- include('./includes/aplayer') %>
            <%}%>
        <!-- aplayerÊí≠ÊîæÂô®Âä†ËΩΩüëÜ -->
    </div>
    <!-- ËÉåÊôØÂõæÂä†ËΩΩÊñπÂºèüëá -->
    <div id="bgchoice" style="display: none"><%= site.customConfig.bgchoice %>
                </div>
                <% if(site.customConfig.bgchoice == 'default'){ %>
                <div id="bgurl" style="display:none"><%= site.customConfig['bgimage'] %></div>
                <% } else{ %>
                <div id="bgurl" style="display:none"><%= site.customConfig['bgimagelink'] %></div>
                <% } %>
    <!-- ËÉåÊôØÂõæÂä†ËΩΩÊñπÂºèüëÜ -->
</body>

<script>
    //ÂàùÂßãÂåñ
    //Êõ¥Êç¢twikooÂ§¥ÂÉè
    setTimeout(replaceAvatar,1000);
    setTimeout(replaceAvatar,2000);
    setTimeout(replaceAvatar,8000);
    // --------‰∏∫ÊØèÂº†ÂõæÁâáÊ∑ªÂä†ÊáíÂä†ËΩΩÔºàlazyloadÔºâÊ†áÁ≠æ-->ÊáíÂä†ËΩΩÂäüËÉΩ üëá------------
    lazyload();
    //‰∏∫ÊñáÁ´†ÂÜÖÊâÄÊúâ‰ª£Á†ÅÂùóÊ∑ªÂä†‰ª£Á†ÅÂ§çÂà∂ÂäüËÉΩ üëá
    codeinit();
    // ------‰ª£Á†ÅÈ´ò‰∫ÆÊòæÁ§∫ÂäüËÉΩ-------------
    hljs.initHighlightingOnLoad();
    if (shareChoice)
        shareInit();
    if (donateChoice)
        donateInit();
</script>

<!------------------ Âä†ËΩΩlive2dÊ®°ÂûãÂäüËÉΩÔºàÁúãÊùøÂ®òÔºâüëá ---------------->
<% if (site.customConfig.live2d){ %>
<script type="text/javascript">
    var message_Path = '/live2d/'
    var home_Path = document.getElementById("domainname").innerHTML + "/"; //Ê≠§Â§Ñ‰øÆÊîπ‰∏∫‰Ω†ÁöÑÂüüÂêçÔºåÂøÖÈ°ªÂ∏¶ÊñúÊù†
</script>
<script type="text/javascript" src="<%= themeConfig.domain %>/media/js/live2d.js%>"></script>
<script type="text/javascript" src="<%= themeConfig.domain %>/media/live2d/js/message.js%>"></script>
<script type="text/javascript">
    loadlive2d("live2d", "<%= themeConfig.domain %>/media/live2d/assets/tororo.model.json%>");
</script>
<% } %>
<!------------------ Âä†ËΩΩlive2dÊ®°ÂûãÂäüËÉΩÔºàÁúãÊùøÂ®òÔºâüëÜ ---------------->


<!----------------------- ËøîÂõûÈ°∂ÈÉ®ÊåâÈíÆÂäüËÉΩüëá --------------------->
<script>
    $(function () {
        $('.toggleContainer').click(function () {
            $('html,body').animate({
                scrollTop: '0px'
            }, 800);
        });
        $(window).scroll(function () {
            var st = $(window).scrollTop();
            if (st > 30) {
                $(".toggleContainer").fadeIn(400);
            } else {
                $(".toggleContainer").fadeOut(100);
            }
        });
    });
</script>
<!----------------------- ËøîÂõûÈ°∂ÈÉ®ÊåâÈíÆÂäüËÉΩüëÜ --------------------->


<!------------ Âä†ËΩΩÂÖ®Â±ÄËÉåÊôØÂõæÂäüËÉΩüëáÔºàÂºÄÂßãÊó∂Ê≤°ÊúâÂÜôÂ•ΩÔºåËøôÂäüËÉΩÊúâÁÇπÈ∏°ËÇã/(„Ñío„Ñí)/~~Ôºâ -->
<script>
    var bgchoice = "<%=site.customConfig.bgchoice%>"
    var bg = $('#bg');
    var bgurl = document.getElementById("bgurl").innerHTML;
    if (bgchoice == 'default')
    {
        for (var i = 0; i < 3; i++)
            bgurl = bgurl.replace("\\", "/");
        bgurl = "<%= themeConfig.domain %>/" + bgurl;
    }
    bg.css("background", "url('" + bgurl + "')");

    window.onload = function () {
        aplayerbtnInit();
    }
</script>
<!------------ Âä†ËΩΩÂÖ®Â±ÄËÉåÊôØÂõæÂäüËÉΩüëÜÔºàÂºÄÂßãÊó∂Ê≤°ÊúâÂÜôÂ•ΩÔºåËøôÂäüËÉΩÊúâÁÇπÈ∏°ËÇã/(„Ñío„Ñí)/~~Ôºâ -->



<% if (site.customConfig.menuposition == 'left'){ %>
<script src="<%= themeConfig.domain %>/media/js/index.js%>"></script>
<% } %>

<script>
    //Âä†ËΩΩÂêéÁöÑ‰∫ã‰ª∂ÂêåÊ≠•ÔºàÈòÖËØªÈáè„ÄÅÁßªÂä®Á´ØËØÑËÆ∫Á≠â
    window.onload = function () {
    //‰ª£Á†ÅÂùóÈ´ò‰∫ÆÊ∏≤Êüì
    document.querySelectorAll('pre code').forEach((block) => {
            hljs.highlightBlock(block);
            hljs.lineNumbersBlock(block);
    });
        getHotnum();
        var sharepc = $(".share").eq(0).html();
        $(".share").eq(1).html(sharepc);   //Êèí‰ª∂Âè™‰ºöÂØªÊâæ‰∏Ä‰∏™ÂàÜ‰∫´Ê†áÁ≠æÊ∏≤ÊüìÔºåÊâÄ‰ª•ÈúÄË¶ÅÊâãÂä®Ê∑ªÂä†Âà∞ÁßªÂä®Á´Ø
        aplayerbtnInit();
        $(".hljs").css({
            "padding": "20px"
        })
    }
</script>

<!-- <script src="<%= themeConfig.domain %>/media/js/av-min.js%>"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/leancloud-storage@3.13.0/dist/av-min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/leancloud-storage@4.6.1/dist/av-live-query-min.js"></script> -->